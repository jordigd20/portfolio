---
import EmailLink from '../icons/EmailLink.astro';
import DownloadFile from '../icons/DownloadFile.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

---

<section
  class="text-textColor mt-28 mb-28 px-2 sm:px-5 flex flex-col md:flex-row justify-center items-center opacity-0 transition-all md:gap-4 lg:gap-24 xl:gap-40 animate-section"
>
  <div>
    <header>
      <div class="mb-5 flex items-start">
        <span
          class="relative py-[10px] px-[3px] overflow-hidden rounded-ss-full rounded-se-full rounded-ee-full"
        >
          <span
            class="absolute inset-[-250%] animate-[spin_2s_linear_infinite] bg-[conic-gradient(from_90deg_at_50%_50%,_#1C95FC_0%,_#00FFD4_100%)] z-[-1]"
          ></span>
          <span
            class="py-2 px-5 text-2xl font-bold text-white bg-gradient-to-r from-[#273449] to-[#2A4A4B] rounded-ss-full rounded-se-full rounded-ee-full"
          >
            {t('hero.intro')}
          </span>
        </span>
      </div>

      <div class="flex flex-col">
        <h1 class="text-5xl font-bold">Jordi GÃ³mez Devesa</h1>
        <h2 class="text-2xl font-medium" aria-label={t('aria-label.hero.job-position')}>
          <Fragment set:html={t('hero.job-position')} />
        </h2>
      </div>
    </header>

    <div class="py-10 max-w-[600px]">
      <p class="text-pretty">
       <Fragment set:html={t('hero.description')} />
      </p>

      <footer class="flex flex-wrap items-center gap-3 pt-10">
        <a
          href="mailto:jordigd8@gmail.com"
          class="btn-primary p-2 px-4 inline-flex items-center gap-2 hover:scale-105"
        >
          <EmailLink className="size-5" />
          jordigd8@gmail.com
        </a>
        <a
          href="/assets/cv/cv-jordi-gomez-devesa.pdf"
          target="_blank"
          class="btn-primary p-2 px-4 inline-flex items-center gap-2 hover:scale-105"
          data-astro-reload
        >
          <DownloadFile className="size-5" />
          CV
        </a>
      </footer>
    </div>
  </div>

  <img
    class="my-auto rounded-2xl object-cover aspect-square w-[350px] lg:w-[350px]"
    src="/assets/jordi-gomez-devesa.webp"
    alt={t('alt.hero.image')}
    loading="eager"
    fetchpriority="high"
  />
</section>
